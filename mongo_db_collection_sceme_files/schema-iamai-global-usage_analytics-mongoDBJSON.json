{
  "$jsonSchema": {
    "bsonType": "object",
    "required": [
      "_id",
      "__v",
      "agentsUsed",
      "breakdown",
      "createdAt",
      "creditsUsed",
      "date",
      "messagesCount",
      "totalTokens",
      "updatedAt",
      "userId"
    ],
    "properties": {
      "_id": {
        "bsonType": "objectId"
      },
      "__v": {
        "bsonType": "int"
      },
      "agentsUsed": {
        "bsonType": "array",
        "items": {
          "bsonType": "string"
        }
      },
      "breakdown": {
        "bsonType": "object",
        "properties": {
          "anthropic": {
            "bsonType": "object",
            "properties": {
              "calls": {
                "bsonType": "int"
              },
              "credits": {
                "bsonType": "double"
              },
              "tokens": {
                "bsonType": "int"
              }
            },
            "required": [
              "calls",
              "credits",
              "tokens"
            ]
          },
          "google": {
            "bsonType": "object",
            "properties": {
              "calls": {
                "bsonType": "int"
              },
              "credits": {
                "bsonType": "double"
              },
              "tokens": {
                "bsonType": "int"
              }
            },
            "required": [
              "calls",
              "credits",
              "tokens"
            ]
          },
          "openai": {
            "bsonType": "object",
            "properties": {
              "calls": {
                "bsonType": "int"
              },
              "credits": {
                "bsonType": "double"
              },
              "tokens": {
                "bsonType": "int"
              }
            },
            "required": [
              "calls",
              "credits",
              "tokens"
            ]
          }
        },
        "required": [
          "anthropic",
          "google",
          "openai"
        ]
      },
      "createdAt": {
        "bsonType": "date"
      },
      "creditsUsed": {
        "bsonType": "double"
      },
      "date": {
        "bsonType": "string"
      },
      "messagesCount": {
        "bsonType": "int"
      },
      "totalTokens": {
        "bsonType": "int"
      },
      "updatedAt": {
        "bsonType": "date"
      },
      "userId": {
        "bsonType": "objectId"
      }
    }
  }
}